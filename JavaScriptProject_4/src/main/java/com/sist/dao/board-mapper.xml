<!-- PreparedStatement, ResultSet관련 -->
<!-- SQL문장 등록 -->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.sist.dao.board-mapper">
 	<!-- 목록(select) -->
 	<!-- 
 		매개변수가 1개일땐 일반 데이터형. 2개 이상일땐 모아서 전송(설정은 1개만 가능)
 		1. BoardVO
 		2. BoardVO에 없는 데이터 설정
 		3. 검색
 		**동적 SQL
 	 -->
 	<select id="boardListData resultType="BoardVO parameterType="hashmap">
 		SELECT no, subject, name, TO_CHAR(regdate, 'YYYY-MM-DD') as dbday, hit, num
 		FROM (SELECT no, subject, name, regdate, hit, rownum as num)
 		FROM (SELECT /*+INDEX_DESC(board board_no_pk)*/no, subject, name, regdate, hit
 		FROM board))
 		WHERE num BETWEEN #{start} AND #{end}
 		<!-- 
 			map.put("start", 1)		- #{start}	- map.get{"start"}
 			map.put("end", 10)
 			
 			Map
 			#{start} = map.get{start}
 			VO
 			#{name} = vo.getName()
 			#{name}		-문자일경우 	'vo.getName()'
 			table명, colum명	- ${name}
 			
 			JDBC - DBCP - ORM
 							(라이브러리(MyBatis/hibernate)	-	dataset
 		 --> 
 	</select>
 	<!-- 상세보기(select) -->
 	<upodate id="hitIncrement" parameterType="int">
 	UPDATE board SET
 	hit=hit+1
 	WHERE no=#{no}
 	</upodate>
 	<select id="boardDetailData", resultType="BoardVO", parameterType="int">
 	SELECT no,name,subject, content, TO_CHAR(regdate, 'YYYY-MM-DD') as dbday, hit
 	FROM board
 	WHERE no=#{no}
 	</select>
 	<!-- 추가(insert) -->
 	INSERT INTO board VALUES(
 	board_no_seq.nextval, #{name},#{subject},#{content}, #{pwd}, SYSDATE, 0
 	)
 	<!-- 수정(update) -->
 	<!-- 삭제(delete) -->
 	<select id="boardGetPassword" resultType="string" parameterType="int">
 	SELECT pwd
 	FROM board
 	WHERE no=#{no}
 	</select>
 	<delete id="boardDelete" parameterType="int">
 	DELETE FROM board
 	WEHERE no=#{no}
 	</delete>
 	<!-- 태그 안에 sql문장은 1개만 실행(2개는 <statement>, <sql> -->
 </mapper>